{% extends 'base.html' %}
{% block content %}
    <div class = "d-flex justify-content-center align-items-center mb-3">
        <h2>Parking Lots</h2>
        {% if current_user.admin %}
        <a href = "{{url_for('create_parking_lot')}}" class = "btn btn-dark ms-3">Add Parking Lot</a>
        {% endif %}
    </div>
        <!--search bar-->
        <div class="table-responsive">
            <table class="table table-striped align-middle">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Parking Lot Name</th>
                        <th scope="col">Address</th>
                        {% if current_user.admin %}
                        <th scope="col" style="width: 160px">Action</th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for parking_lot in parking_lots %}
                    <tr>
                        <td>{{parking_lot.name}}</td>
                        <td>{{parking_lot.address}}</td>

                        {% if current_user.admin %}
                        <td>
                            <a href = "{{url_for('edit_parking_lot', parking_lot_id = parking_lot.id)}}" class = "btn btn-sm btn-outline-primary">Edit</a>
                            <a href = "{{url_for('delete_parking_lot', parking_lot_id = parking_lot.id)}}" class = "btn btn-sm btn-outline-danger">Delete</a>
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                    {% if not parking_lots %}
                    <tr>
                        <td colspan="3">No Parking Lots Found</td>
                    </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>       
{% endblock %}
